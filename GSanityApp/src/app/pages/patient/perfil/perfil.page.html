<ion-header class="ion-no-border">
	<ion-toolbar mode="ios" class="GSanity-toolbar">
		<ion-title slot="start"> {{"perfil.profile"|translate}} </ion-title>

		<ion-select [(ngModel)]='language' (ionChange)='languageChange()'slot ="end" placeholder="{{'user.lang'|translate}}">
			<ion-select-option value='es'>Es</ion-select-option>
			<ion-select-option value='en'>En</ion-select-option>
		 </ion-select>
		<ion-button slot="end" (click)="logout()" class="logout"
			><ion-icon name="power-outline"></ion-icon
		></ion-button>
	</ion-toolbar>
</ion-header>

<ion-content ion-no-margin>
	<ion-card mode="ios">
		<ion-card-header>
			<ion-item lines="none">
				<ion-avatar *ngIf="user.name" slot="start"
					><text-avatar
						[name]="user.name"
						[surnames]="user.surnames"
					></text-avatar
				></ion-avatar>
				<ion-label
					><ion-text
						><h2 class="ellipsis">
							{{user.name}} {{user.surnames}}
						</h2></ion-text
					>
					<p>{{"user."+user.role|translate}}</p>
				</ion-label>
			</ion-item>
		</ion-card-header>
		<ion-card-content>
			<ion-item lines="inset">
				<ion-icon name="calendar-clear-outline"></ion-icon>
				<ion-label><h3>{{"user.bornDate"|translate}}:</h3></ion-label>
				<ion-text><h3>{{user.bornDate | date:'dd/MM/YYYY'}}</h3></ion-text>
			</ion-item>
			<ion-item lines="inset">
				<ion-icon name="mail-outline"></ion-icon>
				<ion-label><h3>{{"user.email"|translate}}:</h3></ion-label>
				<ion-text><h3>{{user.email}}</h3></ion-text>
			</ion-item>
			<ion-item lines="inset">
				<ion-icon name="card-outline"></ion-icon>
				<ion-label><h3>{{"user.dni"|translate}}:</h3></ion-label>
				<ion-text><h3>{{user.dni}}</h3></ion-text>
			</ion-item>
			<ion-item lines="inset">
				<ion-icon name="medkit-outline"></ion-icon>
				<ion-label><h3>{{"user.mediCard"|translate}}:</h3></ion-label>
				<ion-text><h3>{{user.mediCard}}</h3></ion-text>
			</ion-item>
			<ion-item lines="inset">
				<ion-label><h3>{{"user.gender"|translate}}:</h3></ion-label>
				<ion-icon
					*ngIf="user.gender == 'male'"
					name="male-outline"
				></ion-icon>
				<ion-icon
					*ngIf="user.gender == 'female'"
					name="female-outline"
				></ion-icon>
			</ion-item>
		</ion-card-content>
	</ion-card>
	<ion-label></ion-label>
	<ion-button
		(click)="changeEmail()"
		mode="ios"
		expand="block"
		class="profileButtons"
		>{{"perfil.changeMail"|translate}}</ion-button
	>
	<ion-button
		(click)="changePassword()"
		mode="ios"
		expand="block"
		class="profileButtons"
		>{{"perfil.changePassw"|translate}}</ion-button
	>
</ion-content>
